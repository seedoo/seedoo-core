<?xml version="1.0" encoding="utf-8"?>
<!--
    Copyright 2020-2022 Flosslab S.r.l.
    Copyright 2017-2019 MuK IT GmbH
    License LGPL-3.0 or later (http://www.gnu.org/licenses/lgpl).
-->
<odoo>
    <data>

        <!-- Chiamate unicamente tramite vista kanban, non ci dovrebbero essere problemi nell'utilizzarle con l'active_id-->
        <record id="action_sd_dms_document_folder_list" model="ir.actions.act_window">
            <field name="name">Documents</field>
            <field name="res_model">sd.dms.document</field>
            <field name="view_mode">kanban,tree,graph,pivot,form</field>
            <field name="domain">
                [
                ("folder_id", "child_of",  active_id)
                ]
            </field>
            <field name="context">
                {
                'default_folder_id': active_id
                }
            </field>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    Click to add a new file.
                </p>
            </field>
        </record>


        <record id="action_sd_dms_document_list_storage_migration" model="ir.actions.act_window">
            <field name="name">Documents</field>
            <field name="res_model">sd.dms.document</field>
            <field name="view_mode">tree</field>
            <field name="domain">
                [
                    "&amp;", ("storage_id", "=",  active_id),
                    "|",("active", "=",  False), ("active", "!=",  False)
                ]
            </field>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    Add a new File.
                </p>
                <p>
                    Files are used to save content directly in Odoo.
                </p>
            </field>
        </record>

<!--        <record id="action_sd_dms_document_migrate" model="ir.actions.server">-->
<!--            <field name="name">Migrate</field>-->
<!--            <field name="model_id" ref="model_sd_dms_document"/>-->
<!--            <field name="binding_model_id" ref="sd_dms.model_sd_dms_document" />-->
<!--            <field name="state">code</field>-->
<!--            <field name="code">records.action_migrate()</field>-->
<!--        </record>-->

    </data>
</odoo>